package com.appstudent.app.ws.ui.controller;

import org.springframework.beans.BeanUtils;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.http.MediaType;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

import com.appstudent.app.ws.service.StudentService;
import com.appstudent.app.ws.shared.dto.StudentDTO;
import com.appstudent.app.ws.ui.model.request.StudentDetailsRequestModel;
import com.appstudent.app.ws.ui.model.response.StudentRest;

@RestController
@RequestMapping("students") //http://localhost:8080/students
public class StudentController {

	@Autowired
	StudentService studentService;
	
	@PostMapping(produces= {
			MediaType.APPLICATION_JSON_VALUE,
			MediaType.APPLICATION_XML_VALUE
	})
	public StudentRest postStudent(@RequestBody StudentDetailsRequestModel student) {
		StudentRest returnValue = new StudentRest();
		StudentDTO studentDTO = new StudentDTO();
		StudentDTO createdUser = new StudentDTO();
		
		//copy data to DTO
		BeanUtils.copyProperties(student, studentDTO);
		
		//create User
		createdUser = studentService.createStudent(studentDTO);
		
		BeanUtils.copyProperties(createdUser, returnValue);
		return returnValue;
	}
	
//	@PutMapping(produces= {
//			MediaType.APPLICATION_JSON_VALUE,
//			MediaType.APPLICATION_XML_VALUE
//	})
//	public StudentRest putStudent(@RequestBody StudentDetailsRequestModel student) {
//		StudentRest returnValue = new StudentRest();
//		BeanUtils.copyProperties(student, returnValue);
//		return returnValue;
//	}
//	
//	@GetMapping(produces= {
//			MediaType.APPLICATION_JSON_VALUE,
//			MediaType.APPLICATION_XML_VALUE
//	})
//	public StudentRest getStudent(@RequestBody StudentDetailsRequestModel student) {
//		StudentRest returnValue = new StudentRest();
//		BeanUtils.copyProperties(student, returnValue);
//		return returnValue;
//	}
//	
//	@DeleteMapping(produces= {
//			MediaType.APPLICATION_JSON_VALUE,
//			MediaType.APPLICATION_XML_VALUE
//	})
//	public StudentRest deleteStudent(@RequestBody StudentDetailsRequestModel student) {
//		StudentRest returnValue = new StudentRest();
//		BeanUtils.copyProperties(student, returnValue);
//		return returnValue;
//	}
//	
}
